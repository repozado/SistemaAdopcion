<nav class="soulpet-navbar">
  <div class="navbar-container">
    <div class="navbar-brand" routerLink="/home">
      <img src="logosoulpet.png" alt="Soulpet Logo" class="logo" />
      <span>Soulpet</span>
    </div>

    <div class="navbar-links">
      <a class="nav-link" routerLinkActive="active" [routerLink]="['/home']">
        <i class="fas fa-home"></i> Inicio
      </a>
      <a
        class="nav-link"
        routerLinkActive="active"
        [routerLink]="['/mascotas']"
      >
        <i class="fas fa-paw"></i> Mascotas
      </a>
      <a class="nav-link" routerLinkActive="active" [routerLink]="['/faq']">
        <i class="fas fa-question-circle"></i> FAQ
      </a>
      <a
        *ngIf="auth.isLoggedIn()"
        class="nav-link"
        routerLinkActive="active"
        [routerLink]="['/perfilemocional']"
      >
        <i class="fas fa-user-circle"></i> Perfil
      </a>

      <!-- Nuevo enlace para Mis Adopciones, visible solo si el usuario tiene adopciones y está logueado -->
      <a *ngIf="auth.isLoggedIn() && hasMyAdopciones" class="nav-link" routerLinkActive="active" [routerLink]="['/mis-adopciones']">
        <i class="fas fa-heartbeat"></i> Mis Adopciones
      </a>

      <!-- Menú desplegable para admin -->
      <div *ngIf="auth.isAdmin()" class="admin-dropdown">
        <button class="admin-dropbtn">
          <i class="fas fa-user-cog"></i> Administrar <i class="fas fa-chevron-down dropdown-icon"></i>
        </button>
        <div class="admin-dropdown-content">
          <a
            class="admin-link"
            routerLinkActive="active"
            [routerLink]="['/usuarios']"
          >
            <i class="fas fa-users"></i> Usuarios
          </a>
          <a
            class="admin-link"
            routerLinkActive="active"
            [routerLink]="['/administrar']"
          >
            <i class="fas fa-tools"></i> Mascotas
          </a>
          <a
            class="admin-link"
            routerLinkActive="active"
            [routerLink]="['/adopciones']"
          >
            <i class="fas fa-heart"></i> Adopciones
          </a>
          <a class="admin-link" routerLinkActive="active" [routerLink]="['/solicitudes']">
            <i class="fas fa-file-alt"></i> Solicitudes
          </a>
        </div>
      </div>

      <button
        *ngIf="!auth.isLoggedIn()"
        class="login-btn"
        (click)="openLoginModal()"
      >
        <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
      </button>
      <button *ngIf="auth.isLoggedIn()" class="login-btn" (click)="logout()">
        <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
      </button>
    </div>

    <button class="navbar-toggler" (click)="toggleMenu()">
      <i
        class="fas"
        [class.fa-bars]="!menuOpen"
        [class.fa-times]="menuOpen"
      ></i>
    </button>
  </div>

  <div class="mobile-menu" [class.open]="menuOpen">
    <a
      class="mobile-link"
      routerLinkActive="active"
      [routerLink]="['/home']"
      (click)="toggleMenu()"
    >
      <i class="fas fa-home"></i> Inicio
    </a>
    <a
      class="mobile-link"
      routerLinkActive="active"
      [routerLink]="['/mascotas']"
      (click)="toggleMenu()"
    >
      <i class="fas fa-paw"></i> Mascotas
    </a>
    <a
      class="mobile-link"
      routerLinkActive="active"
      [routerLink]="['/faq']"
      (click)="toggleMenu()"
    >
      <i class="fas fa-question-circle"></i> FAQ
    </a>
    <a
      class="mobile-link"
      routerLinkActive="active"
      [routerLink]="['/contacto']"
      (click)="toggleMenu()"
    >
      <i class="fas fa-envelope"></i> Contacto
    </a>
    <a *ngIf="auth.isLoggedIn()" class="mobile-link" routerLinkActive="active" [routerLink]="['/perfilemocional']" (click)="toggleMenu()">
      <i class="fas fa-user-circle"></i> Perfil
    </a>
    <!-- Nuevo enlace móvil para Mis Adopciones -->
    <a *ngIf="auth.isLoggedIn() && hasMyAdopciones" class="mobile-link" routerLinkActive="active" [routerLink]="['/mis-adopciones']" (click)="toggleMenu()">
      <i class="fas fa-heartbeat"></i> Mis Adopciones
    </a>

    <a *ngIf="auth.isAdmin()" class="mobile-link admin-link" routerLinkActive="active" [routerLink]="['/usuarios']" (click)="toggleMenu()">
      <i class="fas fa-users"></i> Panel Usuarios
    </a>
    <a *ngIf="auth.isAdmin()" class="mobile-link admin-link" routerLinkActive="active"
      [routerLink]="['/administrar']" (click)="toggleMenu()">
      <i class="fas fa-tools"></i> Panel Admin
    </a>
    <a *ngIf="auth.isAdmin()" class="mobile-link admin-link" routerLinkActive="active"
      [routerLink]="['/adopciones']" (click)="toggleMenu()">
      <i class="fas fa-heart"></i> Adopciones Admin
    </a>
    <a *ngIf="auth.isAdmin()" class="mobile-link admin-link" routerLinkActive="active"
      [routerLink]="['/solicitudes']" (click)="toggleMenu()">
      <i class="fas fa-file-alt"></i> Solicitudes Admin
    </a>

    <button
      *ngIf="!auth.isLoggedIn()"
      class="mobile-login-btn"
      (click)="openLoginModal(); toggleMenu()"
    >
      <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
    </button>
    <button
      *ngIf="auth.isLoggedIn()"
      class="mobile-login-btn"
      (click)="logout(); toggleMenu()"
    >
      <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
    </button>
  </div>
</nav>


